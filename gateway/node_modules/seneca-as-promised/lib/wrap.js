'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }

/**
 * async/wrap.js
 *
 * @author  Denis Luchkin-Zhou <denis@ricepo.com>
 * @license 2015-16 (C) Ricepo LLC. All Rights Reserved.
 */
const _ = require('lodash');
const Debug = require('debug')('vg:core:wrap');
const unpromisify = require('./util/unpromisify');

function wrapAsync() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  const pattern = _.dropRight(args, 1);
  const action = _.last(args);

  Debug(args[0]);

  return this.wrap.apply(this, _toConsumableArray(pattern).concat([unpromisify(action)]));
}
module.exports = wrapAsync;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndyYXAuanMiXSwibmFtZXMiOlsiXyIsInJlcXVpcmUiLCJEZWJ1ZyIsInVucHJvbWlzaWZ5Iiwid3JhcEFzeW5jIiwiYXJncyIsInBhdHRlcm4iLCJkcm9wUmlnaHQiLCJhY3Rpb24iLCJsYXN0Iiwid3JhcCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7O0FBTUEsTUFBTUEsSUFBZUMsUUFBUSxRQUFSLENBQXJCO0FBQ0EsTUFBTUMsUUFBZUQsUUFBUSxPQUFSLEVBQWlCLGNBQWpCLENBQXJCO0FBQ0EsTUFBTUUsY0FBZUYsUUFBUSxvQkFBUixDQUFyQjs7QUFHQSxTQUFTRyxTQUFULEdBQTRCO0FBQUEsb0NBQU5DLElBQU07QUFBTkEsUUFBTTtBQUFBOztBQUMxQixRQUFNQyxVQUFVTixFQUFFTyxTQUFGLENBQVlGLElBQVosRUFBa0IsQ0FBbEIsQ0FBaEI7QUFDQSxRQUFNRyxTQUFVUixFQUFFUyxJQUFGLENBQU9KLElBQVAsQ0FBaEI7O0FBRUFILFFBQU1HLEtBQUssQ0FBTCxDQUFOOztBQUVBLFNBQU8sS0FBS0ssSUFBTCxnQ0FBYUosT0FBYixVQUFzQkgsWUFBWUssTUFBWixDQUF0QixHQUFQO0FBQ0Q7QUFDREcsT0FBT0MsT0FBUCxHQUFpQlIsU0FBakIiLCJmaWxlIjoid3JhcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogYXN5bmMvd3JhcC5qc1xuICpcbiAqIEBhdXRob3IgIERlbmlzIEx1Y2hraW4tWmhvdSA8ZGVuaXNAcmljZXBvLmNvbT5cbiAqIEBsaWNlbnNlIDIwMTUtMTYgKEMpIFJpY2VwbyBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKi9cbmNvbnN0IF8gICAgICAgICAgICA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgRGVidWcgICAgICAgID0gcmVxdWlyZSgnZGVidWcnKSgndmc6Y29yZTp3cmFwJyk7XG5jb25zdCB1bnByb21pc2lmeSAgPSByZXF1aXJlKCcuL3V0aWwvdW5wcm9taXNpZnknKTtcblxuXG5mdW5jdGlvbiB3cmFwQXN5bmMoLi4uYXJncykge1xuICBjb25zdCBwYXR0ZXJuID0gXy5kcm9wUmlnaHQoYXJncywgMSk7XG4gIGNvbnN0IGFjdGlvbiAgPSBfLmxhc3QoYXJncyk7XG5cbiAgRGVidWcoYXJnc1swXSk7XG5cbiAgcmV0dXJuIHRoaXMud3JhcCguLi5wYXR0ZXJuLCB1bnByb21pc2lmeShhY3Rpb24pKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gd3JhcEFzeW5jO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
